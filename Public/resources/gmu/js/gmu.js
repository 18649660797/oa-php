/* Gmu v2.1.0 */
!function(a,b){var c,d=b.userAgent,e=a.browser,f={qq:/MQQBrowser\/([\d.]+)/i,uc:/UCBrowser\/([\d.]+)/i,baidu:/baidubrowser\/.*?([\d.]+)/i};a.each(f,function(a,b){return(c=d.match(b))?(e[a]=!0,e.version=c[1],!1):void 0}),!e.uc&&/Uc/i.test(b.appVersion)&&(e.uc=!0)}(Zepto,navigator),function(a){a.matchMedia=function(){var b=0,c="gmu-media-detect",d=a.fx.transitionEnd,e=a.fx.cssPrefix,f=a("<style></style>").append("."+c+"{"+e+"transition: width 0.001ms; width: 0; position: absolute; clip: rect(1px, 1px, 1px, 1px);}\n").appendTo("head");return function(e){var g,h,i=c+b++,j=[];return f.append("@media "+e+" { #"+i+" { width: 1px; } }\n"),g=a('<div class="'+c+'" id="'+i+'"></div>').appendTo("body").on(d,function(){h.matches=1===g.width(),a.each(j,function(b,c){a.isFunction(c)&&c.call(h,h)})}),h={matches:1===g.width(),media:e,addListener:function(a){return j.push(a),this},removeListener:function(a){var b=j.indexOf(a);return~b&&j.splice(b,1),this}}}}()}(Zepto),$(function(){$.mediaQuery={ortchange:"screen and (width: "+window.innerWidth+"px)"},$.matchMedia($.mediaQuery.ortchange).addListener(function(){$(window).trigger("ortchange")})}),function(a){a.extend(a,{throttle:function(b,c,d){function e(){function a(){g=Date.now(),c.apply(h,j)}function e(){f=void 0}var h=this,i=Date.now()-g,j=arguments;d&&!f&&a(),f&&clearTimeout(f),void 0===d&&i>b?a():f=setTimeout(d?e:a,void 0===d?b-i:b)}var f,g=0;return"function"!=typeof c&&(d=c,c=b,b=250),e._zid=c._zid=c._zid||a.proxy(c)._zid,e},debounce:function(b,c,d){return void 0===c?a.throttle(250,b,!1):a.throttle(b,c,void 0===d?!1:d!==!1)}})}(Zepto),function(a,b){function c(){a(b).on("scroll",a.debounce(80,function(){a(b).trigger("scrollStop")},!1))}function d(){a(b).off("scroll"),c()}c(),a(b).on("pageshow",function(c){c.persisted&&a(b).off("touchstart",d).one("touchstart",d)})}(Zepto,window),function(a,b){a.extend(a.fn,{fix:function(c){var d=this;if(d.attr("isFixed"))return d;d.css(c).css("position","fixed").attr("isFixed",!0);var e=a('<div style="position:fixed;top:10px;"></div>').appendTo("body"),f=e[0].getBoundingClientRect().top,g=function(){window.pageYOffset>0&&(e[0].getBoundingClientRect().top!==f&&(d.css("position","absolute"),h(),a(window).on("scrollStop",h),a(window).on("ortchange",h)),a(window).off("scrollStop",g),e.remove())},h=function(){d.css({top:window.pageYOffset+(c.bottom!==b?window.innerHeight-d.height()-c.bottom:c.top||0),left:c.right!==b?document.body.offsetWidth-d.width()-c.right:c.left||0}),"100%"==c.width&&d.css("width",document.body.offsetWidth)};return a(window).on("scrollStop",g),d}})}(Zepto),function(a){function b(){var a=c.attr("hl-cls");clearTimeout(d),c.removeClass(a).removeAttr("hl-cls"),c=null,e.off("touchend touchmove touchcancel",b)}var c,d,e=a(document);a.fn.highlight=function(f,g){return this.each(function(){var h=a(this);h.css("-webkit-tap-highlight-color","rgba(255,255,255,0)").off("touchstart.hl"),f&&h.on("touchstart.hl",function(i){var j;c=g?(j=a(i.target).closest(g,this))&&j.length&&j:h,c&&(c.attr("hl-cls",f),d=setTimeout(function(){c.addClass(f)},100),e.on("touchend touchmove touchcancel",b))})})}}(Zepto),function(a){var b=[];a.fn.imglazyload=function(c){function d(a){var b=k?window:i.offset(),d=b[l.win[0]],e=b[l.win[1]];return d>=a[l.img[0]]-c.threshold-e&&d<=a[l.img[0]]+a[l.img[1]]}function e(d){var e=a(d),f={},g=e;n||(a.each(e.get(0).attributes,function(){~this.name.indexOf("data-")&&(f[this.name]=this.value)}),g=a("<img />").attr(f)),e.trigger("startload"),g.on("load",function(){!n&&e.replaceWith(g),e.trigger("loadcomplete"),g.off("load")}).on("error",function(){var c=a.Event("error");e.trigger(c),c.defaultPrevented||b.push(d),g.off("error").remove()}).attr("src",e.attr(c.urlName))}function f(){var c,f,g,i;for(c=b.length;c--;)f=a(i=b[c]),g=f.offset(),d(g)&&(h.call(b,c,1),e(i))}function g(){!n&&m&&a(b).append(m)}var h=Array.prototype.splice,c=a.extend({threshold:0,container:window,urlName:"data-url",placeHolder:"",eventName:"scrollStop",innerScroll:!1,isVertical:!0},c),i=a(c.container),j=c.isVertical,k=a.isWindow(i.get(0)),l={win:[j?"scrollY":"scrollX",j?"innerHeight":"innerWidth"],img:[j?"top":"left",j?"height":"width"]},m=a(c.placeHolder).length?a(c.placeHolder):null,n=a(this).is("img");return!k&&(l.win=l.img),b=Array.prototype.slice.call(a(b.reverse()).add(this),0).reverse(),a.isFunction(a.fn.imglazyload.detect)?(g(),this):(a(document).ready(function(){g(),f()}),!c.innerScroll&&a(window).on(c.eventName+" ortchange",function(){f()}),a.fn.imglazyload.detect=f,this)}}(Zepto),function(a,b){function c(a){return""===g?a:(a=a.charAt(0).toUpperCase()+a.substr(1),g+a)}var d=Math,e=[],f=b.createElement("div").style,g=function(){for(var a,b="webkitT,MozT,msT,OT,t".split(","),c=0,d=b.length;d>c;c++)if(a=b[c]+"ransform",a in f)return b[c].substr(0,b[c].length-1);return!1}(),h=g?"-"+g.toLowerCase()+"-":"",i=c("transform"),j=c("transitionProperty"),k=c("transitionDuration"),l=c("transformOrigin"),m=c("transitionTimingFunction"),n=(c("transitionDelay"),/android/gi.test(navigator.appVersion)),o=/hp-tablet/gi.test(navigator.appVersion),p=c("perspective")in f,q="ontouchstart"in a&&!o,r=!!g,s=c("transition")in f,t="onorientationchange"in a?"orientationchange":"resize",u=q?"touchstart":"mousedown",v=q?"touchmove":"mousemove",w=q?"touchend":"mouseup",x=q?"touchcancel":"mouseup",y=function(){if(g===!1)return!1;var a={"":"transitionend",webkit:"webkitTransitionEnd",Moz:"transitionend",O:"otransitionend",ms:"MSTransitionEnd"};return a[g]}(),z=function(){return a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||function(a){return setTimeout(a,1)}}(),A=function(){return a.cancelRequestAnimationFrame||a.webkitCancelAnimationFrame||a.webkitCancelRequestAnimationFrame||a.mozCancelRequestAnimationFrame||a.oCancelRequestAnimationFrame||a.msCancelRequestAnimationFrame||clearTimeout}(),B=p?" translateZ(0)":"",C=function(c,d){var e,f=this;f.wrapper="object"==typeof c?c:b.getElementById(c),f.wrapper.style.overflow="hidden",f.scroller=f.wrapper.children[0],f.translateZ=B,f.options={hScroll:!0,vScroll:!0,x:0,y:0,bounce:!0,bounceLock:!1,momentum:!0,lockDirection:!0,useTransform:!0,useTransition:!1,topOffset:0,checkDOMChanges:!1,handleClick:!0,onRefresh:null,onBeforeScrollStart:function(a){a.preventDefault()},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null};for(e in d)f.options[e]=d[e];f.x=f.options.x,f.y=f.options.y,f.options.useTransform=r&&f.options.useTransform,f.options.useTransition=s&&f.options.useTransition,f.scroller.style[j]=f.options.useTransform?h+"transform":"top left",f.scroller.style[k]="0",f.scroller.style[l]="0 0",f.options.useTransition&&(f.scroller.style[m]="cubic-bezier(0.33,0.66,0.66,1)"),f.options.useTransform?f.scroller.style[i]="translate("+f.x+"px,"+f.y+"px)"+B:f.scroller.style.cssText+=";position:absolute;top:"+f.y+"px;left:"+f.x+"px",f.refresh(),f._bind(t,a),f._bind(u),f.options.checkDOMChanges&&(f.checkDOMTime=setInterval(function(){f._checkDOMChanges()},500))};C.prototype={enabled:!0,x:0,y:0,steps:[],scale:1,currPageX:0,currPageY:0,pagesX:[],pagesY:[],aniTime:null,isStopScrollAction:!1,handleEvent:function(a){var b=this;switch(a.type){case u:if(!q&&0!==a.button)return;b._start(a);break;case v:b._move(a);break;case w:case x:b._end(a);break;case t:b._resize();break;case y:b._transitionEnd(a)}},_checkDOMChanges:function(){this.moved||this.animating||this.scrollerW==this.scroller.offsetWidth*this.scale&&this.scrollerH==this.scroller.offsetHeight*this.scale||this.refresh()},_resize:function(){var a=this;setTimeout(function(){a.refresh()},n?200:0)},_pos:function(a,b){a=this.hScroll?a:0,b=this.vScroll?b:0,this.options.useTransform?this.scroller.style[i]="translate("+a+"px,"+b+"px) scale("+this.scale+")"+B:(a=d.round(a),b=d.round(b),this.scroller.style.left=a+"px",this.scroller.style.top=b+"px"),this.x=a,this.y=b},_start:function(b){var c,e,f,g=this,h=q?b.touches[0]:b;g.enabled&&(g.options.onBeforeScrollStart&&g.options.onBeforeScrollStart.call(g,b),g.options.useTransition&&g._transitionTime(0),g.moved=!1,g.animating=!1,g.distX=0,g.distY=0,g.absDistX=0,g.absDistY=0,g.dirX=0,g.dirY=0,g.isStopScrollAction=!1,g.options.momentum&&(g.options.useTransform?(c=getComputedStyle(g.scroller,null)[i].replace(/[^0-9\-.,]/g,"").split(","),e=+c[4],f=+c[5]):(e=+getComputedStyle(g.scroller,null).left.replace(/[^0-9-]/g,""),f=+getComputedStyle(g.scroller,null).top.replace(/[^0-9-]/g,"")),(d.round(e)!=d.round(g.x)||d.round(f)!=d.round(g.y))&&(g.isStopScrollAction=!0,g.options.useTransition?g._unbind(y):A(g.aniTime),g.steps=[],g._pos(e,f),g.options.onScrollEnd&&g.options.onScrollEnd.call(g))),g.startX=g.x,g.startY=g.y,g.pointX=h.pageX,g.pointY=h.pageY,g.startTime=b.timeStamp||Date.now(),g.options.onScrollStart&&g.options.onScrollStart.call(g,b),g._bind(v,a),g._bind(w,a),g._bind(x,a))},_move:function(a){var b=this,c=q?a.touches[0]:a,e=c.pageX-b.pointX,f=c.pageY-b.pointY,g=b.x+e,h=b.y+f,i=a.timeStamp||Date.now();b.options.onBeforeScrollMove&&b.options.onBeforeScrollMove.call(b,a),b.pointX=c.pageX,b.pointY=c.pageY,(g>0||g<b.maxScrollX)&&(g=b.options.bounce?b.x+e/2:g>=0||b.maxScrollX>=0?0:b.maxScrollX),(h>b.minScrollY||h<b.maxScrollY)&&(h=b.options.bounce?b.y+f/2:h>=b.minScrollY||b.maxScrollY>=0?b.minScrollY:b.maxScrollY),b.distX+=e,b.distY+=f,b.absDistX=d.abs(b.distX),b.absDistY=d.abs(b.distY),b.absDistX<6&&b.absDistY<6||(b.options.lockDirection&&(b.absDistX>b.absDistY+5?(h=b.y,f=0):b.absDistY>b.absDistX+5&&(g=b.x,e=0)),b.moved=!0,b._beforePos?b._beforePos(h,f)&&b._pos(g,h):b._pos(g,h),b.dirX=e>0?-1:0>e?1:0,b.dirY=f>0?-1:0>f?1:0,i-b.startTime>300&&(b.startTime=i,b.startX=b.x,b.startY=b.y),b.options.onScrollMove&&b.options.onScrollMove.call(b,a))},_end:function(c){if(!q||0===c.touches.length){var e,f,g,h=this,i=q?c.changedTouches[0]:c,j={dist:0,time:0},k={dist:0,time:0},l=(c.timeStamp||Date.now())-h.startTime,m=h.x,n=h.y;if(h._unbind(v,a),h._unbind(w,a),h._unbind(x,a),h.options.onBeforeScrollEnd&&h.options.onBeforeScrollEnd.call(h,c),!h.moved)return q&&this.options.handleClick&&!h.isStopScrollAction&&(h.doubleTapTimer=setTimeout(function(){for(h.doubleTapTimer=null,e=i.target;1!=e.nodeType;)e=e.parentNode;"SELECT"!=e.tagName&&"INPUT"!=e.tagName&&"TEXTAREA"!=e.tagName&&(f=b.createEvent("MouseEvents"),f.initMouseEvent("click",!0,!0,c.view,1,i.screenX,i.screenY,i.clientX,i.clientY,c.ctrlKey,c.altKey,c.shiftKey,c.metaKey,0,null),f._fake=!0,e.dispatchEvent(f))},0)),h._resetPos(400),void(h.options.onTouchEnd&&h.options.onTouchEnd.call(h,c));if(300>l&&h.options.momentum&&(j=m?h._momentum(m-h.startX,l,-h.x,h.scrollerW-h.wrapperW+h.x,h.options.bounce?h.wrapperW:0):j,k=n?h._momentum(n-h.startY,l,-h.y,h.maxScrollY<0?h.scrollerH-h.wrapperH+h.y-h.minScrollY:0,h.options.bounce?h.wrapperH:0):k,m=h.x+j.dist,n=h.y+k.dist,(h.x>0&&m>0||h.x<h.maxScrollX&&m<h.maxScrollX)&&(j={dist:0,time:0}),(h.y>h.minScrollY&&n>h.minScrollY||h.y<h.maxScrollY&&n<h.maxScrollY)&&(k={dist:0,time:0})),j.dist||k.dist)return g=d.max(d.max(j.time,k.time),10),h.scrollTo(d.round(m),d.round(n),g),void(h.options.onTouchEnd&&h.options.onTouchEnd.call(h,c));h._resetPos(200),h.options.onTouchEnd&&h.options.onTouchEnd.call(h,c)}},_resetPos:function(a){var b=this,c=b.x>=0?0:b.x<b.maxScrollX?b.maxScrollX:b.x,d=b.y>=b.minScrollY||b.maxScrollY>0?b.minScrollY:b.y<b.maxScrollY?b.maxScrollY:b.y;return c==b.x&&d==b.y?void(b.moved&&(b.moved=!1,b.options.onScrollEnd&&b.options.onScrollEnd.call(b),b._afterPos&&b._afterPos())):void b.scrollTo(c,d,a||0)},_transitionEnd:function(a){var b=this;a.target==b.scroller&&(b._unbind(y),b._startAni())},_startAni:function(){var a,b,c,e=this,f=e.x,g=e.y,h=Date.now();if(!e.animating){if(!e.steps.length)return void e._resetPos(400);if(a=e.steps.shift(),a.x==f&&a.y==g&&(a.time=0),e.animating=!0,e.moved=!0,e.options.useTransition)return e._transitionTime(a.time),e._pos(a.x,a.y),e.animating=!1,void(a.time?e._bind(y):e._resetPos(0));c=function(){var i,j,k=Date.now();return k>=h+a.time?(e._pos(a.x,a.y),e.animating=!1,e.options.onAnimationEnd&&e.options.onAnimationEnd.call(e),void e._startAni()):(k=(k-h)/a.time-1,b=d.sqrt(1-k*k),i=(a.x-f)*b+f,j=(a.y-g)*b+g,e._pos(i,j),void(e.animating&&(e.aniTime=z(c))))},c()}},_transitionTime:function(a){a+="ms",this.scroller.style[k]=a},_momentum:function(a,b,c,e,f){var g=6e-4,h=d.abs(a)*(this.options.speedScale||1)/b,i=h*h/(2*g),j=0,k=0;return a>0&&i>c?(k=f/(6/(i/h*g)),c+=k,h=h*c/i,i=c):0>a&&i>e&&(k=f/(6/(i/h*g)),e+=k,h=h*e/i,i=e),i*=0>a?-1:1,j=h/g,{dist:i,time:d.round(j)}},_offset:function(a){for(var b=-a.offsetLeft,c=-a.offsetTop;a=a.offsetParent;)b-=a.offsetLeft,c-=a.offsetTop;return a!=this.wrapper&&(b*=this.scale,c*=this.scale),{left:b,top:c}},_bind:function(a,b,c){e.concat([b||this.scroller,a,this]),(b||this.scroller).addEventListener(a,this,!!c)},_unbind:function(a,b,c){(b||this.scroller).removeEventListener(a,this,!!c)},destroy:function(){var b=this;b.scroller.style[i]="",b._unbind(t,a),b._unbind(u),b._unbind(v,a),b._unbind(w,a),b._unbind(x,a),b.options.useTransition&&b._unbind(y),b.options.checkDOMChanges&&clearInterval(b.checkDOMTime),b.options.onDestroy&&b.options.onDestroy.call(b);for(var c=0,d=e.length;d>c;)e[c].removeEventListener(e[c+1],e[c+2]),e[c]=null,c+=3;e=[]},refresh:function(){var a,b=this;b.wrapperW=b.wrapper.clientWidth||1,b.wrapperH=b.wrapper.clientHeight||1,b.minScrollY=-b.options.topOffset||0,b.scrollerW=d.round(b.scroller.offsetWidth*b.scale),b.scrollerH=d.round((b.scroller.offsetHeight+b.minScrollY)*b.scale),b.maxScrollX=b.wrapperW-b.scrollerW,b.maxScrollY=b.wrapperH-b.scrollerH+b.minScrollY,b.dirX=0,b.dirY=0,b.options.onRefresh&&b.options.onRefresh.call(b),b.hScroll=b.options.hScroll&&b.maxScrollX<0,b.vScroll=b.options.vScroll&&(!b.options.bounceLock&&!b.hScroll||b.scrollerH>b.wrapperH),a=b._offset(b.wrapper),b.wrapperOffsetLeft=-a.left,b.wrapperOffsetTop=-a.top,b.scroller.style[k]="0",b._resetPos(400)},scrollTo:function(a,b,c,d){var e,f,g=this,h=a;for(g.stop(),h.length||(h=[{x:a,y:b,time:c,relative:d}]),e=0,f=h.length;f>e;e++)h[e].relative&&(h[e].x=g.x-h[e].x,h[e].y=g.y-h[e].y),g.steps.push({x:h[e].x,y:h[e].y,time:h[e].time||0});g._startAni()},scrollToElement:function(a,b){var c,e=this;a=a.nodeType?a:e.scroller.querySelector(a),a&&(c=e._offset(a),c.left+=e.wrapperOffsetLeft,c.top+=e.wrapperOffsetTop,c.left=c.left>0?0:c.left<e.maxScrollX?e.maxScrollX:c.left,c.top=c.top>e.minScrollY?e.minScrollY:c.top<e.maxScrollY?e.maxScrollY:c.top,b=void 0===b?d.max(2*d.abs(c.left),2*d.abs(c.top)):b,e.scrollTo(c.left,c.top,b))},scrollToPage:function(a,b,c){var d,e,f=this;c=void 0===c?400:c,f.options.onScrollStart&&f.options.onScrollStart.call(f),d=-f.wrapperW*a,e=-f.wrapperH*b,d<f.maxScrollX&&(d=f.maxScrollX),e<f.maxScrollY&&(e=f.maxScrollY),f.scrollTo(d,e,c)},disable:function(){this.stop(),this._resetPos(0),this.enabled=!1,this._unbind(v,a),this._unbind(w,a),this._unbind(x,a)},enable:function(){this.enabled=!0},stop:function(){this.options.useTransition?this._unbind(y):A(this.aniTime),this.steps=[],this.moved=!1,this.animating=!1},isReady:function(){return!this.moved&&!this.animating}},f=null,"undefined"!=typeof exports?exports.iScroll=C:a.iScroll=C,function(a,b,c){if(a){var d,e=b.iScroll,f=[].slice,g=function(){var a={},b=0,d="_sid";return function(e,f){var g=e[d]||(e[d]=++b);return f!==c&&(a[g]=f),null===f&&delete a[g],a[g]}}();b.iScroll=d=function(a,b){var c=([].slice.call(arguments,0),new e(a,b));return g(a,c),c},d.prototype=e.prototype,a.fn.iScroll=function(b){var e,h,i=f.call(arguments,1),j="string"==typeof b&&b;return a.each(this,function(f,k){if(h=g(k)||d(k,a.isPlainObject(b)?b:c),"this"===j)return e=h,!1;if(j){if(!a.isFunction(h[j]))throw new Error("iScroll没有此方法："+j);if(e=h[j].apply(h,i),e!==c&&e!==h)return!1;e=c}}),e!==c?e:this}}}(a.Zepto||null,a)}(window,document),function(a){function b(b){return this.each(function(c){var e=a(this),f=a.isFunction(b)?b.call(this,c,e.offset()):b,g=e.css("position"),h="absolute"===g||"fixed"===g||e.position();"relative"===g&&(h.top-=parseFloat(e.css("top"))||-1*parseFloat(e.css("bottom"))||0,h.left-=parseFloat(e.css("left"))||-1*parseFloat(e.css("right"))||0),parentOffset=e.offsetParent().offset(),props={top:d(f.top-(h.top||0)-parentOffset.top),left:d(f.left-(h.left||0)-parentOffset.left)},"static"==g&&(props.position="relative"),f.using?f.using.call(this,props,c):e.css(props)})}var c=a.fn.offset,d=Math.round;a.fn.offset=function(a){return a?b.call(this,a):c.call(this)}}(Zepto),function(a,b){a.parseTpl=function(a,b){var c="var __p=[];with(obj||{}){__p.push('"+a.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(/<%=([\s\S]+?)%>/g,function(a,b){return"',"+b.replace(/\\'/,"'")+",'"}).replace(/<%([\s\S]+?)%>/g,function(a,b){return"');"+b.replace(/\\'/,"'").replace(/[\r\n\t]/g," ")+"__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+'\');}return __p.join("");',d=new Function("obj",c);return b?d(b):d}}(Zepto),function(a,b){function c(a,b){return(parseInt(a,10)||0)*(l.test(a)?b/100:1)}function d(a,b,d,e){return["right"===a[0]?d:"center"===a[0]?d/2:0,"bottom"===a[1]?e:"center"===a[1]?e/2:0,c(b[0],d),c(b[1],e)]}function e(a){var b=a[0],c=b.preventDefault;return b=b.touches&&b.touches[0]||b,9===b.nodeType||b===window||c?{width:c?0:a.width(),height:c?0:a.height(),top:b.pageYOffset||b.pageY||0,left:b.pageXOffset||b.pageX||0}:a.offset()}function f(b){var c=a(b=b||window),d=e(c);return b=c[0],{$el:c,width:d.width,height:d.height,scrollLeft:b.pageXOffset||b.scrollLeft,scrollTop:b.pageYOffset||b.scrollTop}}function g(a,b){["my","at"].forEach(function(c){var d=(a[c]||"").split(" "),e=a[c]=["center","center"],f=b[c]=[0,0];1===d.length&&d[k.test(d[0])?"unshift":"push"]("center"),j.test(d[0])&&(e[0]=RegExp.$1)&&(f[0]=RegExp.$2),k.test(d[1])&&(e[1]=RegExp.$1)&&(f[1]=RegExp.$2)})}var h=a.fn.position,i=Math.round,j=/^(left|center|right)([\+\-]\d+%?)?$/,k=/^(top|center|bottom)([\+\-]\d+%?)?$/,l=/%$/;a.fn.position=function(b){if(!b||!b.of)return h.call(this);b=a.extend({},b);var c,j=a(b.of),k=b.collision,l=k&&f(b.within),m={},n=e(j),o={left:n.left,top:n.top};return j[0].preventDefault&&(b.at="left top"),g(b,m),c=d(b.at,m.at,n.width,n.height),o.left+=c[0]+c[2],o.top+=c[1]+c[3],this.each(function(){var c=a(this),e=c.offset(),f=a.extend({},o),g=d(b.my,m.my,e.width,e.height);f.left=i(f.left+g[2]-g[0]),f.top=i(f.top+g[3]-g[1]),k&&k.call(this,f,{of:n,offset:e,my:b.my,at:b.at,within:l,$el:c}),f.using=b.using,c.offset(f)})}}(Zepto),function(a,b){var c=a.browser;a.support=a.extend(a.support||{},{orientation:!(c.uc||parseFloat(a.os.version)<5&&(c.qq||c.chrome))&&!(a.os.android&&parseFloat(a.os.version)>3)&&"orientation"in window&&"onorientationchange"in window,touch:"ontouchend"in document,cssTransitions:"WebKitTransitionEvent"in window,has3d:"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix,pushState:"pushState"in history&&"replaceState"in history,scrolling:"",requestAnimationFrame:"webkitRequestAnimationFrame"in window})}(Zepto),function(a){function b(a){return"tagName"in a?a:a.parentNode}function c(a,b,c,d){var e=Math.abs(a-b),f=Math.abs(c-d);return e>=f?a-b>0?"Left":"Right":c-d>0?"Up":"Down"}function d(){j=null,k.last&&(k.el.trigger("longTap"),k={})}function e(){j&&clearTimeout(j),j=null}function f(){g&&clearTimeout(g),h&&clearTimeout(h),i&&clearTimeout(i),j&&clearTimeout(j),g=h=i=j=null,k={}}var g,h,i,j,k={},l=750;a(document).ready(function(){var m,n;a(document.body).bind("touchstart",function(c){m=Date.now(),n=m-(k.last||m),k.el=a(b(c.touches[0].target)),g&&clearTimeout(g),k.x1=c.touches[0].pageX,k.y1=c.touches[0].pageY,n>0&&250>=n&&(k.isDoubleTap=!0),k.last=m,j=setTimeout(d,l)}).bind("touchmove",function(a){e(),k.x2=a.touches[0].pageX,k.y2=a.touches[0].pageY,Math.abs(k.x1-k.x2)>10&&a.preventDefault()}).bind("touchend",function(b){e(),k.x2&&Math.abs(k.x1-k.x2)>30||k.y2&&Math.abs(k.y1-k.y2)>30?i=setTimeout(function(){k.el.trigger("swipe"),k.el.trigger("swipe"+c(k.x1,k.x2,k.y1,k.y2)),k={}},0):"last"in k&&(h=setTimeout(function(){var b=a.Event("tap");b.cancelTouch=f,k.el.trigger(b),k.isDoubleTap?(k.el.trigger("doubleTap"),k={}):g=setTimeout(function(){g=null,k.el.trigger("singleTap"),k={}},250)},0))}).bind("touchcancel",f),a(window).bind("scroll",f)}),["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(b){a.fn[b]=function(a){return this.bind(b,a)}})}(Zepto);var gmu=gmu||{version:"@version",$:window.Zepto,staticCall:function(a){var b=a.fn,c=[].slice,d=a();return d.length=1,function(a,e){return d[0]=a,b[e].apply(d,c.call(arguments,2))}}(Zepto)};!function(a,b){function c(a,b,c){(a||"").split(i).forEach(function(a){c(a,b)})}function d(a){return new RegExp("(?:^| )"+a.replace(" "," .* ?")+"(?: |$)")}function e(a){var b=(""+a).split(".");return{e:b[0],ns:b.slice(1).sort().join(" ")}}function f(a,b,c,f){var g,h;return h=e(b),h.ns&&(g=d(h.ns)),a.filter(function(a){return a&&(!h.e||a.e===h.e)&&(!h.ns||g.test(a.ns))&&(!c||a.cb===c||a.cb._cb===c)&&(!f||a.ctx===f)})}function g(a,c){return this instanceof g?(c&&b.extend(this,c),this.type=a,this):new g(a,c)}var h=[].slice,i=/\s+/,j=function(){return!1},k=function(){return!0};g.prototype={isDefaultPrevented:j,isPropagationStopped:j,preventDefault:function(){this.isDefaultPrevented=k},stopPropagation:function(){this.isPropagationStopped=k}},a.event={on:function(a,b,d){var f,g=this;return b?(f=this._events||(this._events=[]),c(a,b,function(a,b){var c=e(a);c.cb=b,c.ctx=d,c.ctx2=d||g,c.id=f.length,f.push(c)}),this):this},one:function(a,b,d){var e=this;return b?(c(a,b,function(a,b){var c=function(){return e.off(a,c),b.apply(d||e,arguments)};c._cb=b,e.on(a,c,d)}),this):this},off:function(a,b,d){var e=this._events;return e?a||b||d?(c(a,b,function(a,b){f(e,a,b,d).forEach(function(a){delete e[a.id]})}),this):(this._events=[],this):this},trigger:function(a){var b,c,d,e,i,j=-1;if(!this._events||!a)return this;if("string"==typeof a&&(a=new g(a)),b=h.call(arguments,1),a.args=b,b.unshift(a),c=f(this._events,a.type))for(e=c.length;++j<e;)if((d=a.isPropagationStopped())||!1===(i=c[j]).cb.apply(i.ctx2,b)){d||(a.stopPropagation(),a.preventDefault());break}return this}},a.Event=g}(gmu,gmu.$),function(a,b,c){function d(a){return"[object Object]"===o.call(a)}function e(a,b){a&&Object.keys(a).forEach(function(c){b(c,a[c])})}function f(a){try{a="true"===a?!0:"false"===a?!1:"null"===a?null:+a+""===a?+a:/(?:\{[\s\S]*\}|\[[\s\S]*\])$/.test(a)?JSON.parse(a):a}catch(b){a=c}return a}function g(a){for(var b,d,e={},g=a&&a.attributes,h=g&&g.length;h--;)d=g[h],b=d.name,"data-"===b.substring(0,5)&&(b=b.substring(5),d=f(d.value),d===c||(e[b]=d));return e}function h(e){var f=e.substring(0,1).toLowerCase()+e.substring(1),g=b.fn[f];b.fn[f]=function(f){var g,h,i=n.call(arguments,1),j="string"==typeof f&&f;return b.each(this,function(k,l){if(h=r(l,e)||new a[e](l,d(f)?f:c),"this"===j)return g=h,!1;if(j){if(!b.isFunction(h[j]))throw new Error("组件没有此方法："+j);if(g=h[j].apply(h,i),g!==c&&g!==h)return!1;g=c}}),g!==c?g:this},b.fn[f].noConflict=function(){return b.fn[f]=g,this}}function i(a,c){var d=this;a.superClass&&i.call(d,a.superClass,c),e(r(a,"options"),function(a,e){e.forEach(function(e){var f=e[0],g=e[1];("*"===f||b.isFunction(f)&&f.call(d,c[a])||f===c[a])&&g.call(d)})})}function j(a,d){var f=this;a.superClass&&j.call(f,a.superClass,d),e(r(a,"plugins"),function(a,g){d[a]!==!1&&(e(g,function(a,d){var e;b.isFunction(d)&&(e=f[a])?f[a]=function(){var a,b=f.origin;return f.origin=e,a=d.apply(f,arguments),b===c?delete f.origin:f.origin=b,a}:f[a]=d}),g._init.call(f))})}function k(){for(var a,c=n.call(arguments),e=c.length;e--;)a=a||c[e],d(c[e])||c.splice(e,1);return c.length?b.extend.apply(null,[!0,{}].concat(c)):a}function l(a,e,f,h,l){var m,n=this;return d(h)&&(l=h,h=c),l&&l.el&&(h=b(l.el)),h&&(n.$el=b(h),h=n.$el[0]),m=n._options=k(e.options,g(h),l),n.template=k(e.template,m.template),n.tpl2html=k(e.tpl2html,m.tpl2html),n.widgetName=a.toLowerCase(),n.eventNs="."+n.widgetName+f,n._init(m),n._options.setup=n.$el&&n.$el.parent()[0]?!0:!1,i.call(n,e,m),j.call(n,e,m),n._create(),n.trigger("ready"),h&&r(h,a,n)&&n.on("destroy",function(){r(h,a,null)}),n}function m(d,f,g){function h(a,b){if("Base"===d)throw new Error("Base类不能直接实例化");return this instanceof h?l.call(this,d,h,i++,a,b):new h(a,b)}"function"!=typeof g&&(g=a.Base);var i=1,j=1;return b.extend(h,{register:function(a,b){var c=r(h,"plugins")||r(h,"plugins",{});return b._init=b._init||p,c[a]=b,h},option:function(a,b,c){var d=r(h,"options")||r(h,"options",{});return d[a]||(d[a]=[]),d[a].push([b,c]),h},inherits:function(a){return m(d+"Sub"+j++,a,h)},extend:function(a){var b=h.prototype,d=g.prototype;q.forEach(function(b){a[b]=k(g[b],a[b]),a[b]&&(h[b]=a[b]),delete a[b]}),e(a,function(a,e){"function"==typeof e&&d[a]?b[a]=function(){var b,f=this.$super;return this.$super=function(){var b=n.call(arguments,1);return d[a].apply(this,b)},b=e.apply(this,arguments),f===c?delete this.$super:this.$super=f,b}:b[a]=e})}}),h.superClass=g,h.prototype=Object.create(g.prototype),h.extend(f),h}var n=[].slice,o=Object.prototype.toString,p=function(){},q=["options","template","tpl2html"],r=function(){var a={},b=0,d="_gid";return function(e,f,g){var h=e[d]||(e[d]=++b),i=a[h]||(a[h]={});return g!==c&&(i[f]=g),null===g&&delete i[f],i[f]}}(),s=a.event;a.define=function(b,c,d){a[b]=m(b,c,d),h(b)},a.isWidget=function(b,c){return c="string"==typeof c?a[c]||p:c,c=c||a.Base,b instanceof c},a.Base=m("Base",{_init:p,_create:p,getEl:function(){return this.$el},on:s.on,one:s.one,off:s.off,trigger:function(c){var d="string"==typeof c?new a.Event(c):c,e=[d].concat(n.call(arguments,1)),f=this._options[d.type],g=this.getEl();return f&&b.isFunction(f)&&!1===f.apply(this,e)&&(d.stopPropagation(),d.preventDefault()),s.trigger.apply(this,e),g&&g.triggerHandler(d,(e.shift(),e)),this},tpl2html:function(a,c){var d=this.template;return d="string"==typeof a?d[a]:(c=a,d),c||~d.indexOf("<%")?b.parseTpl(d,c):d},destroy:function(){this.$el&&this.$el.off(this.eventNs),this.trigger("destroy"),this.off(),this.destroyed=!0}},Object),b.ui=a}(gmu,gmu.$),function(a,b,c){a.define("Button",{options:{iconpos:"left"},template:{icon:'<span class="ui-icon ui-icon-<%= name %>"></span>',text:'<span class="ui-btn-text"><%= text %></span>'},_getWrap:function(a){return a},_init:function(){var a=this;a.$el=a.$el===c?b("<span/>").appendTo(document.body):a.$el},_create:function(){var a=this,d=a._options,e=a.$wrap=a._getWrap(a.getEl()),f=e.is("input"),g=e.find(".ui-btn-text"),h=e.find(".ui-icon");d.label=d.label===c?e[f?"val":"text"]():d.label,f||d.label===c||!g.length&&(g=b(a.tpl2html("text",{text:d.label}))).appendTo(e.empty()),a.$label=g.length&&g,d.resetText=d.resetText||d.label,f||d.icon&&!h.length&&(h=b(a.tpl2html("icon",{name:d.icon}))).appendTo(e),a.$icon=h.length&&h,e.addClass("ui-btn "+(d.label&&d.icon?"ui-btn-icon-"+d.iconpos:d.label?"ui-btn-text-only":"ui-btn-icon-only")),d.state&&setTimeout(function(){a.state(d.state)},0)},state:function(a){if(a===c)return this._state;var b=this,d=b.$wrap,e=d.is("input"),f=b._options[a+"Text"];return b.$wrap.removeClass("ui-state-"+b._state).addClass("ui-state-"+a),f===c||(e?d:b.$label)[e?"val":"text"](f),b._state!==a&&b.trigger("statechange",a,b._state),b._state=a,b},toggle:function(){return this.state("active"===this._state?"reset":"active"),this}}),b(function(){b(document.body).highlight("ui-state-hover",".ui-btn:not(.ui-state-disabled)")})}(gmu,gmu.$),function(a,b,c){var d=b.fx.cssPrefix,e=b.fx.transitionEnd,f=" translateZ(0)";a.define("Slider",{options:{loop:!1,speed:400,index:0,selector:{container:".ui-slider-group"}},template:{item:'<div class="ui-slider-item"><a href="<%= href %>"><img src="<%= pic %>" alt="" /></a><% if( title ) { %><p><%= title %></p><% } %></div>'},_create:function(){var a=this,c=a.getEl(),d=a._options;a.index=d.index,a._initDom(c,d),a._initWidth(c,a.index),a._container.on(e+a.eventNs,b.proxy(a._tansitionEnd,a)),b(window).on("ortchange"+a.eventNs,function(){a._initWidth(c,a.index)})},_initDom:function(a,c){var d,e,f=c.selector,g=c.viewNum||1;for(e=a.find(f.container),e.length||(e=b("<div></div>"),c.content?this._createItems(e,c.content):a.is("ul")?(this.$el=e.insertAfter(a),e=a,a=this.$el):e.append(a.children()),e.appendTo(a)),(d=e.children()).length<g+1&&(c.loop=!1);c.loop&&e.children().length<3*g;)e.append(d.clone());this.length=e.children().length,this._items=(this._container=e).addClass("ui-slider-group").children().addClass("ui-slider-item").toArray(),this.trigger("done.dom",a.addClass("ui-slider"),c)},_createItems:function(a,b){for(var c=0,d=b.length;d>c;c++)a.append(this.tpl2html("item",b[c]))},_initWidth:function(a,b,c){var d,e=this;(c||(d=a.width())!==e.width)&&(e.width=d,e._arrange(d,b),e.height=a.height(),e.trigger("width.change"))},_arrange:function(a,b){var c,d,e=this._items,f=0;for(this._slidePos=new Array(e.length),d=e.length;d>f;f++)c=e[f],c.style.cssText+="width:"+a+"px;left:"+f*-a+"px;",c.setAttribute("data-index",f),this._move(f,b>f?-a:f>b?a:0,0);this._container.css("width",a*d)},_move:function(a,b,c,d){var e=this._slidePos,f=this._items;e[a]!==b&&f[a]&&(this._translate(a,b,c),e[a]=b,d&&f[a].clientLeft)},_translate:function(a,b,c){var e=this._items[a],g=e&&e.style;return g?void(g.cssText+=d+"transition-duration:"+c+"ms;"+d+"transform: translate("+b+"px, 0)"+f+";"):!1},_circle:function(a,b){var c;return b=b||this._items,c=b.length,(a%c+c)%b.length},_tansitionEnd:function(a){~~a.target.getAttribute("data-index")===this.index&&this.trigger("slideend",this.index)},_slide:function(a,b,c,d,e,f){var g,h=this;return g=h._circle(a-c*b),f.loop||(c=Math.abs(a-g)/(a-g)),this._move(g,-c*d,0,!0),this._move(a,d*c,e),this._move(g,0,e),this.index=g,this.trigger("slide",g,a)},slideTo:function(a,b){if(this.index===a||this.index===this._circle(a))return this;var c=this._options,d=this.index,e=Math.abs(d-a),f=e/(d-a),g=this.width;return b=b||c.speed,this._slide(d,e,f,g,b,c)},prev:function(){return(this._options.loop||this.index>0)&&this.slideTo(this.index-1),this},next:function(){return(this._options.loop||this.index+1<this.length)&&this.slideTo(this.index+1),this},getIndex:function(){return this.index},destroy:function(){return this._container.off(this.eventNs),b(window).off("ortchange"+this.eventNs),this.$super("destroy")}})}(gmu,gmu.$),function(a,b,c){b.extend(!0,a.Slider,{template:{prev:'<span class="ui-slider-pre"></span>',next:'<span class="ui-slider-next"></span>'},options:{arrow:!0,select:{prev:".ui-slider-pre",next:".ui-slider-next"}}}),a.Slider.option("arrow",!0,function(){var a=this,c=["prev","next"];this.on("done.dom",function(d,e,f){var g=f.selector;c.forEach(function(c){var d=e.find(g[c]);d.length||e.append(d=b(a.tpl2html(c))),a["_"+c]=d})}),this.on("ready",function(){c.forEach(function(b){a["_"+b].on("tap"+a.eventNs,function(){a[b].call(a)})})}),this.on("destroy",function(){a._prev.off(a.eventNs),a._next.off(a.eventNs)})})}(gmu,gmu.$),function(a,b,c){b.extend(!0,a.Slider,{template:{dots:'<p class="ui-slider-dots"><%= new Array( len + 1 ).join("<b></b>") %></p>'},options:{dots:!0,selector:{dots:".ui-slider-dots"}}}),a.Slider.option("dots",!0,function(){var c=function(b,c){var d=this._dots;"undefined"==typeof c||a.staticCall(d[c%this.length],"removeClass","ui-state-active"),a.staticCall(d[b%this.length],"addClass","ui-state-active")};this.on("done.dom",function(a,c,d){var e=c.find(d.selector.dots);e.length||(e=this.tpl2html("dots",{len:this.length}),e=b(e).appendTo(c)),this._dots=e.children().toArray()}),this.on("slide",function(a,b,d){c.call(this,b,d)}),this.on("ready",function(){c.call(this,this.index)})})}(gmu,gmu.$),function(a){a.Slider.options.imgZoom=!0,a.Slider.option("imgZoom",function(){return!!this._options.imgZoom},function(){function a(){d&&d.off("load"+e.eventNs,c)}function b(){a(),d=e._container.find(f).on("load"+e.eventNs,c)}function c(a){var b=a.target||this,c=Math.min(1,e.width/b.naturalWidth,e.height/b.naturalHeight);
    b.style.width=c*b.naturalWidth+"px"}var d,e=this,f=e._options.imgZoom;f="string"==typeof f?f:"img",e.on("ready dom.change",b),e.on("width.change",function(){d&&d.each(c)}),e.on("destroy",a)})}(gmu),function(a,b,c){var d={close:'<a class="ui-dialog-close" title="关闭"><span class="ui-icon ui-icon-delete"></span></a>',mask:'<div class="ui-mask"></div>',title:'<div class="ui-dialog-title"><h3><%=title%></h3></div>',wrap:'<div class="ui-dialog"><div class="ui-dialog-content"></div><% if(btns){ %><div class="ui-dialog-btns"><% for(var i=0, length=btns.length; i<length; i++){var item = btns[i]; %><a class="ui-btn ui-btn-<%=item.index%>" data-key="<%=item.key%>"><%=item.text%></a><% } %></div><% } %></div> '};a.define("Dialog",{options:{autoOpen:!0,buttons:null,closeBtn:!0,mask:!0,width:300,height:"auto",title:null,content:null,scrollMove:!0,container:null,maskClick:null,position:null},getWrap:function(){return this._options._wrap},_init:function(){var a,c=this,e=c._options,f=0,g=b.proxy(c._eventHandler,c),h={};c.on("ready",function(){e._container=b(e.container||document.body),(e._cIsBody=e._container.is("body"))||e._container.addClass("ui-dialog-container"),h.btns=a=[],e.buttons&&b.each(e.buttons,function(b){a.push({index:++f,text:b,key:b})}),e._mask=e.mask?b(d.mask).appendTo(e._container):null,e._wrap=b(b.parseTpl(d.wrap,h)).appendTo(e._container),e._content=b(".ui-dialog-content",e._wrap),e._title=b(d.title),e._close=e.closeBtn&&b(d.close).highlight("ui-dialog-close-hover"),c.$el=c.$el||e._content,c.title(e.title),c.content(e.content),a.length&&b(".ui-dialog-btns .ui-btn",e._wrap).highlight("ui-state-hover"),e._wrap.css({width:e.width,height:e.height}),b(window).on("ortchange",g),e._wrap.on("click",g),e._mask&&e._mask.on("click",g),e.autoOpen&&c.open()})},_create:function(){var a=this._options;this._options.setup&&(a.content=a.content||this.$el.show(),a.title=a.title||this.$el.attr("title"))},_eventHandler:function(a){var c,d,e,f=this,g=f._options;switch(a.type){case"ortchange":this.refresh();break;case"touchmove":g.scrollMove&&a.preventDefault();break;case"click":if(g._mask&&(b.contains(g._mask[0],a.target)||g._mask[0]===a.target))return f.trigger("maskClick");d=g._wrap.get(0),(c=b(a.target).closest(".ui-dialog-close",d))&&c.length?f.close():(c=b(a.target).closest(".ui-dialog-btns .ui-btn",d))&&c.length&&(e=g.buttons[c.attr("data-key")],e&&e.apply(f,arguments))}},_calculate:function(){var a,c,d=this,e=d._options,f=document.body,g={},h=e._cIsBody,i=Math.round;return e.mask&&(g.mask=h?{width:"100%",height:Math.max(f.scrollHeight,f.clientHeight)-1}:{width:"100%",height:"100%"}),a=e._wrap.offset(),c=b(window),g.wrap={left:"50%",marginLeft:-i(a.width/2)+"px",top:h?i(c.height()/2)+window.pageYOffset:"50%",marginTop:-i(a.height/2)+"px"},g},refresh:function(){var a,c,d=this,e=d._options;return e._isOpen&&(c=function(){a=d._calculate(),a.mask&&e._mask.css(a.mask),e._wrap.css(a.wrap)},b.os.ios&&document.activeElement&&/input|textarea|select/i.test(document.activeElement.tagName)?(document.body.scrollLeft=0,setTimeout(c,200)):c()),d},open:function(a,d){var e=this._options;return e._isOpen=!0,e._wrap.css("display","block"),e._mask&&e._mask.css("display","block"),a!==c&&this.position?this.position(a,d):this.refresh(),b(document).on("touchmove",b.proxy(this._eventHandler,this)),this.trigger("open")},close:function(){var a,c=this._options;return a=b.Event("beforeClose"),this.trigger(a),a.defaultPrevented?this:(c._isOpen=!1,c._wrap.css("display","none"),c._mask&&c._mask.css("display","none"),b(document).off("touchmove",this._eventHandler),this.trigger("close"))},title:function(a){var b=this._options,d=a!==c;return d&&(a=(b.title=a)?"<h3>"+a+"</h3>":a,b._title.html(a)[a?"prependTo":"remove"](b._wrap),b._close&&b._close.prependTo(b.title?b._title:b._wrap)),d?this:b.title},content:function(a){var b=this._options,d=a!==c;return d&&b._content.empty().append(b.content=a),d?this:b.content},destroy:function(){var a=this._options,c=this._eventHandler;return b(window).off("ortchange",c),b(document).off("touchmove",c),a._wrap.off("click",c).remove(),a._mask&&a._mask.off("click",c).remove(),a._close&&a._close.highlight(),this.$super("destroy")}})}(gmu,gmu.$),function(a,b){a.define("Toolbar",{options:{container:document.body,title:"标题",leftBtns:[],rightBtns:[],fixed:!1},_init:function(){var a,c=this,d=c._options;d.container||(d.container=document.body),c.on("ready",function(){if(a=c.$el,d.fixed){var e,f=b('<div class="ui-toolbar-placeholder"></div>').height(a.offset().height).insertBefore(a).append(a).append(a.clone().css({"z-index":1,position:"absolute",top:0})),g=a.offset().top,h=function(){document.body.scrollTop>g?a.css({position:"fixed",top:0}):a.css("position","absolute")};b(window).on("touchmove touchend touchcancel scroll scrollStop",h),b(document).on("touchend touchcancel",e=function(){setTimeout(function(){h()},200)}),c.on("destroy",function(){b(window).off("touchmove touchend touchcancel scroll scrollStop",h),b(document).off("touchend touchcancel",e),a.insertBefore(f),f.remove(),c._removeDom()}),h()}}),c.on("destroy",function(){c._removeDom()})},_create:function(){var a=this,c=a._options,d=a.getEl(),e=b(c.container),f=[],g=a.btnGroups={left:[],right:[]},h=g.left;c.setup||(d&&d.length>0?d.appendTo(e):d=a.$el=b("<div>").appendTo(e)),f=d.children(),$toolbarWrap=d.find(".ui-toolbar-wrap"),0===$toolbarWrap.length?$toolbarWrap=b('<div class="ui-toolbar-wrap"></div>').appendTo(d):f=$toolbarWrap.children(),f.forEach(function(b){$toolbarWrap.append(b),/^[hH]/.test(b.tagName)?(h=g.right,a.title=b):h.push(b)});var i=$toolbarWrap.find(".ui-toolbar-left"),j=$toolbarWrap.find(".ui-toolbar-right");0===i.length&&(i=f.length?b('<div class="ui-toolbar-left">').insertBefore(f[0]):b('<div class="ui-toolbar-left">').appendTo($toolbarWrap),g.left.forEach(function(a){b(a).addClass("ui-toolbar-button"),i.append(a)}),j=b('<div class="ui-toolbar-right">').appendTo($toolbarWrap),g.right.forEach(function(a){b(a).addClass("ui-toolbar-button"),j.append(a)})),d.addClass("ui-toolbar"),b(a.title).length?b(a.title).addClass("ui-toolbar-title"):b('<h1 class="ui-toolbar-title">'+c.title+"</h1>").insertAfter(i),a.btnContainer={left:i,right:j},a.addBtns("left",c.leftBtns),a.addBtns("right",c.rightBtns)},_addBtn:function(a,c){b(c).appendTo(a).addClass("ui-toolbar-button")},addBtns:function(b,c){var d=this,e=d.btnContainer[b],f=Object.prototype.toString;return"[object String]"!=f.call(b)&&(c=b,e=d.btnContainer.right),c.forEach(function(b,c){b instanceof a.Base&&(b=b.getEl()),d._addBtn(e,b)}),d},show:function(){var a=this;return a.$el.show(),a.trigger("show"),a.isShowing=!0,a},hide:function(){var a=this;return a.$el.hide(),a.trigger("hide"),a.isShowing=!1,a},toggle:function(){var a=this;return a.isShowing===!1?a.show():a.hide(),a},_removeDom:function(){var a=this,b=a.$el;a._options.setup===!1?b.remove():b.css("position","static").css("top","auto")}})}(gmu,gmu.$),function(a,b,c){a.define("Popover",{options:{container:null,content:null,event:"click"},template:{frame:"<div>"},_create:function(){var a=this,c=a._options,d=c.target&&b(c.target)||a.getEl(),e=c.container&&b(c.container);e&&e.length||(e=b(a.tpl2html("frame")).addClass("ui-mark-temp")),a.$root=e,c.content&&a.setContent(c.content),a.trigger("done.dom",e.addClass("ui-"+a.widgetName),c),e.parent().length||d.after(e),a.target(d)},_checkTemp:function(a){a.is(".ui-mark-temp")&&a.off(this.eventNs)&&a.remove()},show:function(){var b=this,c=a.Event("beforeshow");return b.trigger(c),c.isDefaultPrevented()?void 0:(b.trigger("placement",b.$root.addClass("ui-in"),b.$target),b._visible=!0,b.trigger("show"))},hide:function(){var b=this,c=new a.Event("beforehide");return b.trigger(c),c.isDefaultPrevented()?void 0:(b.$root.removeClass("ui-in"),b._visible=!1,b.trigger("hide"))},toggle:function(){var a=this;return a[a._visible?"hide":"show"].apply(a,arguments)},target:function(a){if(a===c)return this.$target;var d=this,e=b(a),f=d.$target,g=d._options.event+d.eventNs;return f&&f.off(g),d.$target=e.on(g,function(a){a.preventDefault(),d.toggle()}),d},setContent:function(a){var b=this.$root;return b.empty().append(a),this},destroy:function(){var a=this;return a.$target.off(a.eventNs),a._checkTemp(a.$root),a.$super("destroy")}})}(gmu,gmu.$),function(a){var b=a.Popover;b.template.arrow='<span class="ui-arrow"></span>',b.options.arrow=!0,b.option("arrow",!0,function(){var a=this,b=a._options;b.offset=b.offset||function(a,b){return b=b.split("_")[0],{left:15*("left"===b?-1:"right"===b?1:0),top:15*("top"===b?-1:"bottom"===b?1:0)}},a.on("done.dom",function(b,c){c.append(a.tpl2html("arrow")).addClass("ui-pos-default")}),a.on("after.placement",function(a,b,c){var d=this.$root[0],e=d.className,f=c.placement,g=c.align||"";d.className=e.replace(/(?:\s|^)ui-pos-[^\s$]+/g,"")+" ui-pos-"+f+(g?"-"+g:"")})})}(gmu),function(a,b){var c=a.Popover;c.options.dismissible=!0,c.option("dismissible",!0,function(){function a(a){for(var d=c.$target.add(c.$root).get(),e=d.length;e--;)if(d[e]===a||b.contains(d[e],a))return!0;return!1}var c=this,d=b(document),e="click"+c.eventNs;c.on("show",function(){d.off(e).on(e,function(b){a(b.target)||c.hide()})}),c.on("hide",function(){d.off(e)})})}(gmu,gmu.$),function(a,b){a.Popover.options.collision=!0,a.Popover.option("collision",!0,function(){function a(a){var c=b(a);return a=c[0],a!==window&&9!==a.nodeType?c.offset():{width:c.width(),height:c.height(),top:a.pageYOffset||a.scrollTop||0,left:a.pageXOffset||a.scrollLeft||0}}function c(a,b,c,d){return a.left>=d.left&&a.left+b<=d.left+d.width&&a.top>=d.top&&a.top+c<=d.top+d.height}var d=this,e=d._options;d.on("before.placement",function(d,f,g,h){var i=a(e.within||window),j=g.placement,k=g.coord,l=Object.keys(h),m=l.indexOf(j)+1,n=l.splice(m,l.length-m);for(l=n.concat(l);l.length&&!c(f,k.width,k.height,i);)j=l.shift(),b.extend(f,h[j]());g.preset=j})})}(gmu,gmu.$),function(a,b){a.define("Dropmenu",{options:{content:null},template:{item:'<li><a <% if ( href ) { %>href="<%= href %>"<% } %>><% if ( icon ) { %><span class="ui-icon ui-icon-<%= icon %>"></span><% } %><%= text %></a></li>',divider:'<li class="divider"></li>',wrap:"<ul>"},_init:function(){var a=this;a.on("done.dom",function(b,c){a.$list=c.find("ul").first().addClass("ui-dropmenu-items").highlight("ui-state-hover",".ui-dropmenu-items>li:not(.divider)")})},_create:function(){var c=this,d=c._options,e="";"array"===b.type(d.content)&&(d.content.forEach(function(a){a=b.extend({href:"",icon:"",text:""},"string"==typeof a?{text:a}:a),e+=c.tpl2html("divider"===a.text?"divider":"item",a)}),d.content=b(c.tpl2html("wrap")).append(e)),c.$super("_create"),c.$list.on("click"+c.eventNs,".ui-dropmenu-items>li:not(.ui-state-disable):not(.divider)",function(b){var d=a.Event("itemclick",b);c.trigger(d,this),d.isDefaultPrevented()||c.hide()})}},a.Popover)}(gmu,gmu.$),function(a,b,c){a.define("Navigator",{options:{content:null,event:"click"},template:{list:"<ul>",item:'<li><a<% if( href ) { %> href="<%= href %>"<% } %>><%= text %></a></li>'},_create:function(){var a,d,e=this,f=e._options,g=e.getEl(),h=g.find("ul").first(),i="ui-"+e.widgetName;!h.length&&f.content?(h=b(e.tpl2html("list")),a=e.tpl2html("item"),d="",f.content.forEach(function(c){c=b.extend({href:"",text:""},"string"==typeof c?{text:c}:c),d+=a(c)}),h.append(d).appendTo(g)):(g.is("ul, ol")&&(h=g.wrap("<div>"),g=g.parent()),f.index===c&&(f.index=h.find(".ui-state-active").index(),~f.index||(f.index=0))),e.$list=h.addClass(i+"-list"),e.trigger("done.dom",g.addClass(i),f),h.highlight("ui-state-hover","li"),h.on(f.event+e.eventNs,"li:not(.ui-state-disable)>a",function(a){e._switchTo(b(this).parent().index(),a)}),e.index=-1,e.switchTo(f.index)},_switchTo:function(b,c){if(b!==this.index){var d,e=this,f=e.$list.children(),g=a.Event("beforeselect",c);if(e.trigger(g,f.get(b)),!g.isDefaultPrevented())return d=f.removeClass("ui-state-active").eq(b).addClass("ui-state-active"),e.index=b,e.trigger("select",b,d[0])}},switchTo:function(a){return this._switchTo(~~a)},unselect:function(){this.index=-1,this.$list.children().removeClass("ui-state-active")},getIndex:function(){return this.index}})}(gmu,gmu.$),function(a,b,c){a.define("Refresh",{options:{load:null,statechange:null},_init:function(){var a=this,c=a._options;a.on("ready",function(){b.each(["up","down"],function(b,d){var e=c["$"+d+"Elem"],f=e.get(0);e.length&&(a._status(d,!0),(!f.childNodes.length||e.find(".ui-refresh-icon").length&&e.find(".ui-refresh-label").length)&&(!f.childNodes.length&&a._createBtn(d),c.refreshInfo||(c.refreshInfo={}),c.refreshInfo[d]={$icon:e.find(".ui-refresh-icon"),$label:e.find(".ui-refresh-label"),text:e.find(".ui-refresh-label").html()}),e.on("click",function(){a._status(d)&&!c._actDir&&(a._setStyle(d,"loading"),a._loadingAction(d,"click"))}))})}),a.on("destroy",function(){a.$el.remove()})},_create:function(){var a=this,b=a._options,c=a.$el;a._options.setup&&(b.$upElem=c.find(".ui-refresh-up"),b.$downElem=c.find(".ui-refresh-down"),c.addClass("ui-refresh"))},_createBtn:function(a){return this._options["$"+a+"Elem"].html('<span class="ui-refresh-icon"></span><span class="ui-refresh-label">加载更多</span>'),this},_setStyle:function(a,c){var d=this,e=b.Event("statechange");return d.trigger(e,d._options["$"+a+"Elem"],c,a),e.defaultPrevented?d:d._changeStyle(a,c)},_changeStyle:function(a,b){var c=this._options,d=c.refreshInfo[a];switch(b){case"loaded":d.$label.html(d.text),d.$icon.removeClass(),c._actDir="";break;case"loading":d.$label.html("加载中..."),d.$icon.addClass("ui-loading"),c._actDir=a;break;case"disable":d.$label.html("没有更多内容了")}return this},_loadingAction:function(a,c){var d=this,e=d._options,f=e.load;return b.isFunction(f)&&f.call(d,a,c),d._status(a,!1),d},afterDataLoading:function(a){var b=this,a=a||b._options._actDir;return b._setStyle(a,"loaded"),b._status(a,!0),b},_status:function(a,b){var d=this._options;return b===c?d["_"+a+"Open"]:d["_"+a+"Open"]=!!b},_setable:function(a,c,d){var e=this,f=e._options,g=c?[c]:["up","down"];return b.each(g,function(b,c){var g=f["$"+c+"Elem"];g.length&&(a?g.show():d?g.hide():e._setStyle(c,"disable"),e._status(c,a))}),e},disable:function(a,b){return this._setable(!1,a,b)},enable:function(a){return this._setable(!0,a)}})}(gmu,gmu.$),function(a,b,c){var d=b.fx.cssPrefix,e=b.fx.transitionEnd;a.define("Panel",{options:{contentWrap:"",scrollMode:"follow",display:"push",position:"right",dismissible:!0,swipeClose:!0},_init:function(){var a=this,c=a._options;a.on("ready",function(){a.displayFn=a._setDisplay(),a.$contentWrap.addClass("ui-panel-animate"),a.$el.on(e,b.proxy(a._eventHandler,a)).hide(),c.dismissible&&a.$panelMask.hide().on("click",b.proxy(a._eventHandler,a)),"follow"!==c.scrollMode&&b(window).on("scrollStop",b.proxy(a._eventHandler,a)),b(window).on("ortchange",b.proxy(a._eventHandler,a))})},_create:function(){if(!this._options.setup)throw new Error("panel组件不支持create模式，请使用setup模式");var a=this,c=a._options,d=a.$el.addClass("ui-panel ui-panel-"+c.position);a.panelWidth=d.width()||0,a.$contentWrap=b(c.contentWrap||d.next()),c.dismissible&&(a.$panelMask=b('<div class="ui-panel-dismiss"></div>').width(document.body.clientWidth-d.width()).appendTo("body")||null)},_setDisplay:function(){var a,c,e=this,f=e.$el,g=e.$contentWrap,h=d+"transform",i=e._transDisplayToPos(),j={};return b.each(["push","overlay","reveal"],function(b,d){j[d]=function(b,j,k){return a=i[d].panel,c=i[d].cont,f.css(h,"translate3d("+e._transDirectionToPos(j,a[b])+"px,0,0)"),k||(g.css(h,"translate3d("+e._transDirectionToPos(j,c[b])+"px,0,0)"),e.maskTimer=setTimeout(function(){e.$panelMask&&e.$panelMask.css(j,f.width()).toggle(b)},400)),e}}),j},_initPanelPos:function(a,b){return this.displayFn[a](0,b,!0),this.$el.get(0).clientLeft,this},_transDirectionToPos:function(a,b){return"left"===a?b:-b},_transDisplayToPos:function(){var a=this,b=a.panelWidth;return{push:{panel:[-b,0],cont:[0,b]},overlay:{panel:[-b,0],cont:[0,0]},reveal:{panel:[0,0],cont:[0,b]}}},_setShow:function(a,c,d){var e=this,f=e._options,g=a?"open":"close",h=b.Event("before"+g),i=a!==e.state(),j=a?"on":"off",k=a?b.proxy(e._eventHandler,e):e._eventHandler,l=c||f.display,m=d||f.position;return e.trigger(h,[c,d]),h.isDefaultPrevented()?e:(i&&(e._dealState(a,l,m),e.displayFn[l](e.isOpen=Number(a),m),f.swipeClose&&e.$el[j](b.camelCase("swipe-"+m),k),f.display=l,f.position=m),e)},_dealState:function(a,c,d){var f=this,g=f._options,h=f.$el,i=f.$contentWrap,j="ui-panel-"+c+" ui-panel-"+d,k="ui-panel-"+g.display+" ui-panel-"+g.position+" ui-panel-animate";return a&&(h.removeClass(k).addClass(j).show(),"fix"===g.scrollMode&&h.css("top",b(window).scrollTop()),f._initPanelPos(c,d),"reveal"===c?i.addClass("ui-panel-contentWrap").on(e,b.proxy(f._eventHandler,f)):(i.removeClass("ui-panel-contentWrap").off(e,b.proxy(f._eventHandler,f)),h.addClass("ui-panel-animate")),f.$panelMask&&f.$panelMask.css({left:"auto",right:"auto",height:document.body.clientHeight})),f},_eventHandler:function(a){var c=this,d=c._options,f=d.scrollMode,g=c.state()?"open":"close";switch(a.type){case"click":case"swipeLeft":case"swipeRight":c.close();break;case"scrollStop":"fix"===f?c.$el.css("top",b(window).scrollTop()):c.close();break;case e:c.trigger(g,[d.display,d.position]);break;case"ortchange":c.$panelMask&&c.$panelMask.css("height",document.body.clientHeight),"fix"===f&&c.$el.css("top",b(window).scrollTop())}},open:function(a,b){return this._setShow(!0,a,b)},close:function(){return this._setShow(!1)},toggle:function(a,b){return this[this.isOpen?"close":"open"](a,b)},state:function(){return!!this.isOpen},destroy:function(){return this.$panelMask&&this.$panelMask.off().remove(),this.maskTimer&&clearTimeout(this.maskTimer),this.$contentWrap.removeClass("ui-panel-animate"),b(window).off("scrollStop",this._eventHandler),b(window).off("ortchange",this._eventHandler),this.$super("destroy")}})}(gmu,gmu.$),function(a,b,c){var d=1,e=function(){return d++},f=/^#(.+)$/;a.define("Tabs",{options:{active:0,items:null,transition:"slide"},template:{nav:'<ul class="ui-tabs-nav"><% var item; for(var i=0, length=items.length; i<length; i++) { item=items[i]; %><li<% if(i==active){ %> class="ui-state-active"<% } %>><a href="javascript:;"><%=item.title%></a></li><% } %></ul>',content:'<div class="ui-viewport ui-tabs-content"><% var item; for(var i=0, length=items.length; i<length; i++) { item=items[i]; %><div<% if(item.id){ %> id="<%=item.id%>"<% } %> class="ui-tabs-panel <%=transition%><% if(i==active){ %> ui-state-active<% } %>"><%=item.content%></div><% } %></div>'},_init:function(){var a,c=this,d=c._options,e=b.proxy(c._eventHandler,c);c.on("ready",function(){a=c.$el,a.addClass("ui-tabs"),d._nav.on("tap",e).children().highlight("ui-state-hover")}),b(window).on("ortchange",e)},_create:function(){var a=this,c=a._options;a._options.setup&&a.$el.children().length>0?a._prepareDom("setup",c):(c.setup=!1,a.$el=a.$el||b("<div></div>"),a._prepareDom("create",c))},_prepareDom:function(a,c){var d,g,h,i,j=this,k=j.$el;switch(a){case"setup":if(c._nav=j._findElement("ul").first(),c._nav){c._content=j._findElement("div.ui-tabs-content"),c._content=(c._content&&c._content.first()||b("<div></div>").appendTo(k)).addClass("ui-viewport ui-tabs-content"),d=[],c._nav.addClass("ui-tabs-nav").children().each(function(){var a,g,h=j._findElement("a",this),i=h?h.attr("href"):b(this).attr("data-url");a=f.test(i)?RegExp.$1:"tabs_"+e(),(g=j._findElement("#"+a)||b('<div id="'+a+'"></div>')).addClass("ui-tabs-panel"+(c.transition?" "+c.transition:"")).appendTo(c._content),d.push({id:a,href:i,title:h?h.attr("href","javascript:;").text():b(this).text(),content:g})}),c.items=d,c.active=Math.max(0,Math.min(d.length-1,c.active||b(".ui-state-active",c._nav).index()||0)),j._getPanel().add(c._nav.children().eq(c.active)).addClass("ui-state-active");break}default:d=c.items=c.items||[],g=[],h=[],c.active=Math.max(0,Math.min(d.length-1,c.active)),b.each(d,function(a,b){i="tabs_"+e(),g.push({href:b.href||"#"+i,title:b.title}),h.push({content:b.content||"",id:i}),d[a].id=i}),c._nav=b(this.tpl2html("nav",{items:g,active:c.active})).prependTo(k),c._content=b(this.tpl2html("content",{items:h,active:c.active,transition:c.transition})).appendTo(k),c.container=c.container||(k.parent().length?null:"body")}c.container&&k.appendTo(c.container),j._fitToContent(j._getPanel())},_getPanel:function(a){var d=this._options;return b("#"+d.items[a===c?d.active:a].id)},_findElement:function(a,c){var d=b(c||this.$el).find(a);return d.length?d:null},_eventHandler:function(a){var c,d=this._options;switch(a.type){case"ortchange":this.refresh();break;default:(c=b(a.target).closest("li",d._nav.get(0)))&&c.length&&(a.preventDefault(),this.switchTo(c.index()))}},_fitToContent:function(a){var b=this._options,d=b._content;return b._plus===c&&(b._plus=parseFloat(d.css("border-top-width"))+parseFloat(d.css("border-bottom-width"))),d.height(a.height()+b._plus),this},switchTo:function(c){var d,e,f,g,h,i=this,j=i._options,k=j.items;if(!j._buzy&&j.active!=(c=Math.max(0,Math.min(k.length-1,c)))){if(e=b.extend({},k[c]),e.div=i._getPanel(c),e.index=c,f=b.extend({},k[j.active]),f.div=i._getPanel(),f.index=j.active,d=a.Event("beforeActivate"),i.trigger(d,e,f),d.isDefaultPrevented())return i;j._content.children().removeClass("ui-state-active"),e.div.addClass("ui-state-active"),j._nav.children().removeClass("ui-state-active").eq(e.index).addClass("ui-state-active"),j.transition&&(j._buzy=!0,h=b.fx.animationEnd+".tabs",g=c>j.active?"":" reverse",j._content.addClass("ui-viewport-transitioning"),f.div.addClass("out"+g),e.div.addClass("in"+g).on(h,function(a){a.target==a.currentTarget&&(e.div.off(h,arguments.callee),j._buzy=!1,f.div.removeClass("out reverse"),e.div.removeClass("in reverse"),j._content.removeClass("ui-viewport-transitioning"),i.trigger("animateComplete",e,f),i._fitToContent(e.div))})),j.active=c,i.trigger("activate",e,f),j.transition||i._fitToContent(e.div)}return i},refresh:function(){return this._fitToContent(this._getPanel())},destroy:function(){var a=this._options,b=this._eventHandler;return a._nav.off("tap",b).children().highlight(),a.swipe&&a._content.off("swipeLeft swipeRight",b),a.setup||this.$el.remove(),this.$super("destroy")}})}(gmu,gmu.$),function(a,b){var c=0;a.Button.register("input",{_getWrap:function(a){var d,e,f;return a.is('input[type="checkbox"], input[type="radio"]')?(e=a.addClass("ui-hidden")[0],(d=e.id)||(e.id=d="input_btn_"+c++),f=b("label[for="+d+"]",e.form||e.ownerDocument||void 0),f.length||(f=b('<label for="'+d+'"></label>').insertBefore(a)),a.prop("checked")&&(this._options.state="active"),f):a},toggle:function(){var a=this.$el;return a.is('input[type="radio"]')&&($radios=b("[name='"+a.attr("name")+"']",a[0].form||a[0].ownerDocument||void 0),$radios.button("state","reset")),this.origin.apply(this,arguments)},state:function(a){var b=this.$el;return b.is('input[type="checkbox"], input[type="radio"]')&&b.prop("disabled","disabled"===a),this.origin.apply(this,arguments)}}),b(function(){b(document.body).on("click.button","label.ui-btn:not(.ui-state-disabled)",function(){b("#"+this.getAttribute("for")).button("toggle")})})}(gmu,gmu.$),function(a,b){b.extend(!0,a.Slider,{options:{autoPlay:!0,interval:4e3}}),a.Slider.register("autoplay",{_init:function(){var a=this;a.on("slideend ready",a.resume).on("destory",a.stop),a.getEl().on("touchstart"+a.eventNs,b.proxy(a.stop,a)).on("touchend"+a.eventNs,b.proxy(a.resume,a))},resume:function(){var a=this,b=a._options;return b.autoPlay&&!a._timer&&(a._timer=setTimeout(function(){a.slideTo(a.index+1),a._timer=null},b.interval)),a},stop:function(){var a=this;return a._timer&&(clearTimeout(a._timer),a._timer=null),a}})}(gmu,gmu.$),function(a){a.Slider.template.item='<div class="ui-slider-item"><a href="<%= href %>"><img lazyload="<%= pic %>" alt="" /></a><% if( title ) { %><p><%= title %></p><% } %></div>',a.Slider.register("lazyloadimg",{_init:function(){this.on("ready slide",this._loadItems)},_loadItems:function(){var a,b,c=this._options,d=c.loop,e=c.viewNum||1,f=this.index;for(a=f-e,b=f+2*e;b>a;a++)this.loadImage(d?this._circle(a):a)},loadImage:function(b){var c,d=this._items[b];return d&&(c=a.staticCall(d,"find","img[lazyload]"),c.length)?void c.each(function(){this.src=this.getAttribute("lazyload"),this.removeAttribute("lazyload")}):this}})}(gmu),function(a,b,c){b.extend(a.Slider.options,{viewNum:2,travelSize:2}),a.Slider.register("multiview",{_arrange:function(a,b){var c,d,e=this._items,f=this._options.viewNum,g=b%f,h=0,i=this.perWidth=Math.ceil(a/f);for(this._slidePos=new Array(e.length),d=e.length;d>h;h++)c=e[h],c.style.cssText+="width:"+i+"px;left:"+h*-i+"px;",c.setAttribute("data-index",h),h%f===g&&this._move(h,b>h?-a:h>b?a:0,0,Math.min(f,d-h));this._container.css("width",i*d)},_move:function(a,b,c,d,e){var f=this.perWidth,g=this._options,h=0;for(e=e||g.viewNum;e>h;h++)this.origin(g.loop?this._circle(a+h):a+h,b+h*f,c,d)},_slide:function(a,b,c,d,e,f,g){var h,i,j=this,k=f.viewNum,l=this._items.length;return f.loop||(b=Math.min(b,c>0?a:l-k-a)),i=j._circle(a-c*b),f.loop||(c=Math.abs(a-i)/(a-i)),b%=l,k>l-b&&(b=l-b,c=-1*c),h=Math.max(0,k-b),g||(this._move(i,-c*this.perWidth*Math.min(b,k),0,!0),this._move(a+h*c,h*c*this.perWidth,0,!0)),this._move(a+h*c,d*c,e),this._move(i,0,e),this.index=i,this.trigger("slide",i,a)},prev:function(){var a=this._options,b=a.travelSize;return(a.loop||(this.index>0,b=Math.min(this.index,b)))&&this.slideTo(this.index-b),this},next:function(){var a=this._options,b=a.travelSize,c=a.viewNum;return(a.loop||this.index+c<this.length&&(b=Math.min(this.length-1-this.index,b)))&&this.slideTo(this.index+b),this}})}(gmu,gmu.$),function(a,b,c){var d,e,f,g,h={touchstart:"_onStart",touchmove:"_onMove",touchend:"_onEnd",touchcancel:"_onEnd",click:"_onClick"};b.extend(a.Slider.options,{stopPropagation:!1,disableScroll:!1}),a.Slider.register("touch",{_init:function(){var a=this,b=a.getEl();a._handler=function(b){return a._options.stopPropagation&&b.stopPropagation(),h[b.type]&&a[h[b.type]].call(a,b)},a.on("ready",function(){b.on("touchstart"+a.eventNs,a._handler),a._container.on("click"+a.eventNs,a._handler)})},_onClick:function(){return!g},_onStart:function(a){if(a.touches.length>1)return!1;var b,h=this,i=a.touches[0],j=h._options,k=h.eventNs;e={x:i.pageX,y:i.pageY,time:+new Date},f={},g=!1,d=c,b=j.viewNum||1,h._move(j.loop?h._circle(h.index-b):h.index-b,-h.width,0,!0),h._move(j.loop?h._circle(h.index+b):h.index+b,h.width,0,!0),h.$el.on("touchmove"+k+" touchend"+k+" touchcancel"+k,h._handler)},_onMove:function(a){if(a.touches.length>1||a.scale&&1!==a.scale)return!1;var b,c,h,i,j=this._options,k=j.viewNum||1,l=a.touches[0],m=this.index;if(j.disableScroll&&a.preventDefault(),f.x=l.pageX-e.x,f.y=l.pageY-e.y,"undefined"==typeof d&&(d=Math.abs(f.x)<Math.abs(f.y)),!d){for(a.preventDefault(),j.loop||(f.x/=!m&&f.x>0||m===this._items.length-1&&f.x<0?Math.abs(f.x)/this.width+1:1),i=this._slidePos,b=m-k,c=m+2*k;c>b;b++)h=j.loop?this._circle(b):b,this._translate(h,f.x+i[h],0);g=!0}},_onEnd:function(){if(this.$el.off("touchmove"+this.eventNs+" touchend"+this.eventNs+" touchcancel"+this.eventNs,this._handler),g){var a,b,c,d,h,i=this,j=i._options,k=j.viewNum||1,l=i.index,m=i._slidePos,n=+new Date-e.time,o=Math.abs(f.x),p=!j.loop&&(!l&&f.x>0||l===m.length-k&&f.x<0),q=f.x>0?1:-1;if(250>n?(a=o/n,b=Math.min(Math.round(a*k*1.2),k)):b=Math.round(o/(i.perWidth||i.width)),b&&!p)i._slide(l,b,q,i.width,j.speed,j,!0),k>1&&n>=250&&Math.ceil(o/i.perWidth)!==b&&(i.index<l?i._move(i.index-1,-i.perWidth,j.speed):i._move(i.index+k,i.width,j.speed));else for(c=l-k,d=l+2*k;d>c;c++)h=j.loop?i._circle(c):c,i._translate(h,m[h],j.speed)}}})}(gmu,gmu.$),function(a,b){b.extend(a.Dropmenu.options,{placement:"bottom",align:"center",offset:null}),a.Dropmenu.option("placement",function(a){return~["top","bottom"].indexOf(a)},function(){function a(a,b){return"right"===a||"bottom"===a?b:"center"===a?b/2:0}function c(b,c,e,f,g){var h=d.of,i=d.coord,j=d.offset,k=h.top,l=h.left;return l+=a(c,h.width)-a(f,i.width),k+=a(e,h.height)-a(g,i.height),j="function"==typeof j?j.call(null,{left:l,top:k},b):j||{},{left:l+(j.left||0),top:k+(j.top||0)}}var d,e={top_center:"center top center bottom",top_left:"left top left bottom",top_right:"right top right bottom",bottom_center:"center bottom center top",bottom_right:"right bottom right top",bottom_left:"left bottom left top"},f={};b.each(e,function(a,b){b=b.split(/\s/g),b.unshift(a),f[a]=function(){return c.apply(null,b)}}),this.on("placement",function(a,b,c){var e,g=this,h=g._options,i=h.placement,j=h.align;d={coord:b.offset(),of:c.offset(),placement:i,align:j,$el:b,$of:c,offset:h.offset},e=f[i+"_"+j](),g.trigger("before.placement",e,d,f),/^(\w+)_(\w+)$/.test(d.preset)&&(d.placement=RegExp.$1,d.align=RegExp.$2),b.offset(e),g.trigger("after.placement",e,d)})})}(gmu,gmu.$),function(a,b,c){a.Refresh.register("lite",{_init:function(){var a=this,c=a._options,d=a.$el;return c.seamless&&b(document).on("scrollStop",b.proxy(a._eventHandler,a)),d.on("touchstart touchmove touchend touchcancel",b.proxy(a._eventHandler,a)),c.wrapperH=d.height(),c.wrapperTop=d.offset().top,c._win=window,c._body=document.body,a},_changeStyle:function(a,b){var c=this,d=c._options.refreshInfo[a];return"beforeload"==b&&(d.$icon.removeClass("ui-loading"),d.$label.html("松开立即加载")),c.origin(a,b)},_startHandler:function(a){this._options._startY=a.touches[0].pageY},_moveHandler:function(a){var b=this,c=b._options,d=c._startY,e=d-a.touches[0].pageY,f=c._win.innerHeight,g=c.threshold||(c.wrapperH<f?c.wrapperH/2+c.wrapperTop||0:f/2);if(b._status("down")&&!(0>e))return!c._refreshing&&d>=c._body.scrollHeight-f+g&&e>10&&(b._setStyle("down","beforeload"),c._refreshing=!0),b},_endHandler:function(){var a=this,b=a._options;return a._setStyle("down","loading"),a._loadingAction("down","pull"),b._refreshing=!1,a},_eventHandler:function(a){var b=this,c=b._options;switch(a.type){case"touchstart":b._startHandler(a);break;case"touchmove":clearTimeout(c._endTimer),c._endTimer=setTimeout(function(){b._endHandler()},300),b._moveHandler(a);break;case"touchend":case"touchcancel":clearTimeout(c._endTimer),c._refreshing&&b._endHandler();break;case"scrollStop":!c._refreshing&&c._win.pageYOffset>=c._body.scrollHeight-c._win.innerHeight+(c.threshold||-1)&&b._endHandler()}return b}})}(gmu,gmu.$),function(a,b){var c=/^#.+$/,d={},e={loading:'<div class="ui-loading">Loading</div>',error:'<p class="ui-load-error">内容加载失败!</p>'};gmu.Tabs.register("ajax",{_init:function(){var a,b,d,e=this._options;this.on("ready",function(){for(a=e.items,b=0,d=a.length;d>b;b++)a[b].href&&!c.test(a[b].href)&&(a[b].isAjax=!0);this.on("activate",this._onActivate),a[e.active].isAjax&&this.load(e.active)})},destroy:function(){return this.off("activate",this._onActivate),this.xhr&&this.xhr.abort(),this.origin()},_fitToContent:function(a){var b=this._options;return b._fitLock?void 0:this.origin(a)},_onActivate:function(a,b){b.isAjax&&this.load(b.index)},load:function(b,c){var f,g,h,i=this,j=i._options,k=j.items;return 0>b||b>k.length-1||!(f=k[b])||!f.isAjax||(g=i._getPanel(b)).text()&&!c&&d[b]?this:((h=i.xhr)&&setTimeout(function(){h.abort()},400),j._loadingTimer=setTimeout(function(){g.html(e.loading)},50),j._fitLock=!0,void(i.xhr=a.ajax(a.extend(j.ajax||{},{url:f.href,context:i.$el.get(0),beforeSend:function(a,b){var c=gmu.Event("beforeLoad");return i.trigger(c,a,b),c.isDefaultPrevented()?!1:void 0},success:function(a,c){var e=gmu.Event("beforeRender");clearTimeout(j._loadingTimer),i.trigger(e,a,g,b,c),e.isDefaultPrevented()||g.html(a),j._fitLock=!1,d[b]=!0,i.trigger("load",g),delete i.xhr,i._fitToContent(g)},error:function(){var a=gmu.Event("loadError");clearTimeout(j._loadingTimer),d[b]=!1,i.trigger(a,g),a.isDefaultPrevented()||g.html(e.error),delete i.xhr}}))))}})}(Zepto),function(a,b,c){a.Navigator.options.iScroll={hScroll:!0,vScroll:!1,hScrollbar:!1,vScrollbar:!1},a.Navigator.register("scrollable",{_init:function(){var a=this,c=a._options;a.on("done.dom",function(){a.$list.wrap('<div class="ui-scroller"></div>'),
    a.trigger("init.iScroll"),a.$el.iScroll(b.extend({},c.iScroll))}),b(window).on("ortchange"+a.eventNs,b.proxy(a.refresh,a)),a.on("destroy",function(){a.$el.iScroll("destroy"),b(window).off("ortchange"+a.eventNs)})},refresh:function(){this.trigger("refresh.iScroll").$el.iScroll("refresh")}})}(gmu,gmu.$),function(a,b,c){a.Navigator.options.isScrollToNext=!0,a.Navigator.option("isScrollToNext",!0,function(){var a,d=this;d.on("select",function(e,f,g){a===c&&(a=d.index?0:1);var h,i=f>a,j=b(g)[i?"next":"prev"](),k=j.offset()||b(g).offset(),l=d.$el.offset();(i?k.left+k.width>l.left+l.width:k.left<l.left)&&(h=d.$list.offset(),d.$el.iScroll("scrollTo",i?l.width-k.left+h.left-k.width:h.left-k.left,0,400)),a=f})})}(gmu,gmu.$);